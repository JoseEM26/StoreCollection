<div class="producto-card" 
     [class.agotado]="!hayStock"
     data-aos="fade-up"
     data-aos-duration="600">

  <!-- Enlace usando el SLUG, no el ID -->
  <a [routerLink]="['/producto', producto.slug]" class="producto-link">
    
    <div class="imagen-container">
      <img 
        [src]="imagenUrl" 
        [alt]="producto.nombre"
        class="producto-imagen"
        loading="lazy">
      
      <div class="imagen-overlay">
        <span class="ver-detalle">Ver detalle</span>
      </div>

      <div class="badge-agotado" *ngIf="!hayStock">
        Agotado
      </div>
    </div>

    <div class="info-container">
      <span class="categoria">{{ nombreCategoria }}</span>
      
      <h3 class="nombre">{{ producto.nombre }}</h3>
      
      <div class="precio">
        <span class="simbolo">S/ </span>
        <span class="valor">{{ precio | number:'1.2-2' }}</span>
      </div>

      <div class="stock-info" *ngIf="hayStock && stock <= 5">
        Â¡Solo quedan {{ stock }}!
      </div>
    </div>
  </a>
</div>