<!-- src/app/pages/public-dashboard/public-dashboard.component.html -->
<div class="min-vh-100 bg-gradient">

  <!-- HERO -->
  <section class="bg-primary text-white py-5">
    <div class="container py-5 text-center">
      <h1 class="display-3 fw-bold mb-3">StoreCollection</h1>
      <p class="lead fs-4 mb-4">Tu catálogo digital profesional en minutos</p>
      <p class="fs-5 mb-5 opacity-90">
        Sin tarjetas, sin contratos, sin complicaciones. Empieza gratis hoy.
      </p>
      <div class="d-flex gap-3 justify-content-center flex-wrap">
        <a routerLink="/register" class="btn btn-light btn-lg px-5 shadow">Crear mi tienda GRATIS</a>
        <a href="#precios" class="btn btn-outline-light btn-lg px-5">Ver planes</a>
      </div>
    </div>
  </section>

  <!-- BENEFICIOS -->
  <section class="py-5 bg-white">
    <div class="container">
      <div class="row text-center">
        <div class="col-md-4 mb-4">
          <div class="display-4 text-primary mb-3">Fast</div>
          <h5>Lista en 2 minutos</h5>
          <p class="text-muted">Sin programación, sin hosting</p>
        </div>
        <div class="col-md-4 mb-4">
          <div class="display-4 text-success mb-3">Money</div>
          <h5>Plan gratis para siempre</h5>
          <p class="text-muted">Crece sin pagar hasta que quieras</p>
        </div>
        <div class="col-md-4 mb-4">
          <div class="display-4 text-warning mb-3">WhatsApp</div>
          <h5>Pedidos directos</h5>
          <p class="text-muted">Tus clientes te escriben al WhatsApp</p>
        </div>
      </div>
    </div>
  </section>

  <!-- TIENDAS -->
  <section class="py-5 bg-light">
    <div class="container">
      <div class="text-center mb-5">
        <h2 class="display-5 fw-bold">Tiendas que ya están vendiendo</h2>
        <p class="lead text-muted">Explora catálogos reales creados con StoreCollection</p>

        <div class="col-lg-6 mx-auto mt-4">
          <div class="input-group input-group-lg shadow-sm">
            <input type="text" class="form-control" placeholder="Buscar tienda..." 
                   [(ngModel)]="searchTerm" (keyup.enter)="search()">
            <button class="btn btn-primary" (click)="search()">Buscar</button>
          </div>
        </div>
      </div>

      <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 g-4">
        <div class="col" *ngFor="let tienda of page.content">
          <div class="card h-100 border-0 shadow-sm hover-shadow transition">
            <div class="card-body text-center p-4">
              <div class="bg-primary bg-opacity-10 rounded-circle mx-auto mb-4 d-flex align-items-center justify-content-center"
                   style="width: 90px; height: 90px;">
                <i class="bi bi-shop-window fs-2 text-primary"></i>
              </div>
              <h5 class="card-title fw-bold">{{ tienda.nombre }}</h5>
              <p class="text-muted small flex-grow-1">{{ tienda.descripcion }}</p>
              
              <div class="d-flex justify-content-center gap-2 mb-3 flex-wrap">
                <span class="badge rounded-pill" 
                      [ngClass]="{
                        'bg-success': tienda.planNombre === 'Enterprise',
                        'bg-primary': tienda.planNombre === 'Pro',
                        'bg-secondary': tienda.planNombre === 'Básico',
                        'bg-light text-dark': tienda.planNombre === 'Gratis'
                      }">
                  {{ tienda.planNombre }}
                </span>
                <span class="badge bg-outline-secondary">{{ tienda.moneda }}</span>
              </div>

              <a [routerLink]="['/', tienda.slug]" 
                 class="btn btn-outline-primary w-100 stretched-link">
                Visitar tienda
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- Paginación -->
      <div class="d-flex justify-content-center mt-5" *ngIf="page && page.totalPages > 1">
        <nav aria-label="Paginación de tiendas">
          <ul class="pagination pagination-lg">
            <li class="page-item" [class.disabled]="page.first">
              <button class="page-link" (click)="goToPage(currentPage - 1)">Anterior</button>
            </li>
            <li class="page-item" 
                *ngFor="let n of [].constructor(page.totalPages); let i = index"
                [class.active]="i === currentPage">
              <button class="page-link" (click)="goToPage(i)">{{ i + 1 }}</button>
            </li>
            <li class="page-item" [class.disabled]="page.last">
              <button class="page-link" (click)="goToPage(currentPage + 1)">Siguiente</button>
            </li>
          </ul>
        </nav>
      </div>

      <div class="text-center text-muted mt-3">
        Mostrando {{ page.numberOfElements || 0 }} de {{ page.totalElements || 0 }} tiendas
      </div>
    </div>
  </section>

  <!-- PRECIOS -->
  <section id="precios" class="py-5 bg-white">
    <div class="container">
      <div class="text-center mb-5">
        <h2 class="display-5 fw-bold">Planes para todos</h2>
        <p class="lead">Elige el que más se adapte a tu negocio</p>
      </div>

      <div class="row g-5 justify-content-center">
        <div class="col-md-4">
          <div class="card border-0 shadow h-100">
            <div class="card-body text-center p-5">
              <h4>Gratis</h4>
              <h2 class="fw-bold">S/ 0</h2>
              <p class="text-muted">Para siempre</p>
              <ul class="list-unstyled mt-4 space-y-3">
                <li>50 productos</li>
                <li>Subdominio gratis</li>
                <li>Pedidos por WhatsApp</li>
              </ul>
              <a routerLink="/register" class="btn btn-outline-primary btn-lg w-100 mt-4">Empezar gratis</a>
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card border-0 shadow-lg h-100 position-relative overflow-hidden" style="border: 3px solid #0d6efd !important;">
            <div class="position-absolute top-0 start-50 translate-middle-x bg-primary text-white px-4 py-1 rounded-bottom">
              <small class="fw-bold">MÁS POPULAR</small>
            </div>
            <div class="card-body text-center p-5 pt-6">
              <h4>Pro</h4>
              <h2 class="fw-bold">S/ 79</h2>
              <p class="text-muted">por mes</p>
              <ul class="list-unstyled mt-4 space-y-3">
                <li>Productos ilimitados</li>
                <li>Dominio personalizado</li>
                <li>Sin marca StoreCollection</li>
                <li>Estadísticas avanzadas</li>
              </ul>
              <a routerLink="/register" class="btn btn-primary btn-lg w-100 mt-4">Elegir Pro</a>
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card border-0 shadow h-100">
            <div class="card-body text-center p-5">
              <h4>Enterprise</h4>
              <h2 class="fw-bold">S/ 299</h2>
              <p class="text-muted">por mes</p>
              <ul class="list-unstyled mt-4 space-y-3">
                <li>Todo lo del Pro</li>
                <li>Multi-tienda</li>
                <li>API completa</li>
                <li>Soporte dedicado</li>
              </ul>
              <a href="https://wa.me/51987654321" class="btn btn-dark btn-lg w-100 mt-4">Contactar</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="bg-dark text-white py-5">
    <div class="container">
      <div class="row">
        <div class="col-lg-8">
          <h4>StoreCollection</h4>
          <p class="mb-0">La forma más fácil de tener tu tienda online en Perú.</p>
        </div>
        <div class="col-lg-4 text-lg-end">
          <p class="mb-1">WhatsApp: <a href="https://wa.me/51987654321" class="text-white text-decoration-underline">+51 987 654 321</a></p>
          <p class="mb-1">Email: holastorecollection.pe</p>
          <p class="mb-0 small">© 2025 StoreCollection. Todos los derechos reservados.</p>
        </div>
      </div>
    </div>
  </footer>
</div>