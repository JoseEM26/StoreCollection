<!-- HERO con datos reales de la tienda -->
<section class="hero-minimal">
  <div class="container">
    <div class="row align-items-center min-vh-100">
      <div class="col-lg-6" data-aos="fade-right">
        <h1 class="hero-title">
          {{ tienda?.nombre || 'Cargando tienda...' }}
          <small class="d-block fs-5 text-success fw-normal" *ngIf="tienda?.planNombre">
            Plan {{ tienda.planNombre }}
          </small>
        </h1>
        <p class="hero-subtitle">Bienvenido a tu tienda favorita</p>
        <p class="hero-description">
          {{ tienda?.descripcion || 'Los mejores productos con envíos a todo el país.' }}
        </p>

        <!-- Info rápida -->
        <div class="d-flex flex-wrap gap-3 mt-4 mb-4">
          <div class="info-chip" *ngIf="tienda?.direccion">
            <i class="bi bi-geo-alt-fill"></i> {{ tienda.direccion }}
          </div>
          <div class="info-chip" *ngIf="tienda?.horarios">
            <i class="bi bi-clock-fill"></i> {{ tienda.horarios }}
          </div>
        </div>

        <div class="hero-actions">
          <a routerLink="catalogo" class="btn-explore me-3">Explorar Catálogo</a>
        
        </div>
      </div>
      <div class="col-lg-6 text-center" data-aos="fade-left">
        <div class="hero-image-wrapper">
          <img src={{tienda.logo_img_url}}
               alt="{{ tienda?.nombre }}" class="hero-image">
        </div>
      </div>
    </div>
  </div>
</section>
<!-- CATEGORÍAS POPULARES -->
<section class="section-categories py-5 bg-light" *ngIf="categorias.length > 0 || !loading">
  <div class="container">
    <h2 class="section-title text-center mb-2 fw-bold display-6">
      Categorías populares
    </h2>

    <div *ngIf="categorias.length > 0; else emptyCategories">
      <div class="categories-grid">
        <a *ngFor="let cat of categorias; let i = index"
           [routerLink]="['catalogo', cat.slug]"
           class="category-card"
           data-aos="zoom-in-up"
           [attr.data-aos-delay]="i * 80">

          <!-- Círculo con icono + inicial -->
          <div class="category-icon-circle" [style.background-color]="getColorForCategory(i)">
            <i class="bi {{ getIconForCategory(cat.nombre) }} icon-large"></i>
            <!-- Fallback con inicial si no hay icono reconocido -->
            <span class="fallback-initial" *ngIf="!hasKnownIcon(cat.nombre)">
              {{ cat.nombre.charAt(0).toUpperCase() }}
            </span>
          </div>

          <!-- Nombre de la categoría -->
          <h3 class="category-name mt-3 mb-0 fw-bold">{{ cat.nombre }}</h3>
        </a>
      </div>
    </div>

    <ng-template #emptyCategories>
      <div class="empty-state text-center py-5">
        <i class="bi bi-grid-3x3-gap display-4 text-muted mb-4 opacity-50"></i>
        <h4 class="text-dark fw-semibold">Aún no hay categorías disponibles</h4>
        <p class="text-muted">Pronto agregaremos nuevas categorías. ¡Vuelve pronto!</p>
      </div>
    </ng-template>
  </div>
</section>

<!-- PRODUCTOS DESTACADOS (con estado vacío) -->
<section class="section-featured py-5 bg-light" *ngIf="destacados.length > 0 || !loading">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center mb-5 flex-wrap gap-3">
      <h2 class="section-title mb-0">Productos Destacados</h2>
      <a routerLink="catalogo" class="text-decoration-none fw-semibold text-success">
        Ver todo el catálogo →
      </a>
    </div>

    <div *ngIf="destacados.length > 0; else emptyProducts" class="row g-4">
      <div class="col-6 col-md-4 col-lg-3"
           *ngFor="let p of destacados; let i = index"
           data-aos="fade-up"
           [attr.data-aos-delay]="i * 100">
        <app-producto-card [producto]="p"></app-producto-card>
      </div>
    </div>

    <ng-template #emptyProducts>
      <div class="empty-state">
        <i class="bi bi-basket2"></i>
        <h3>Pronto habrá productos destacados</h3>
        <p>Estamos preparando lo mejor para ti. ¡Los productos llegarán muy pronto!</p>
        <a routerLink="catalogo" class="btn-empty">
          Explorar catálogo completo
        </a>
      </div>
    </ng-template>
  </div>
</section>

<!-- Loading -->
<div class="container py-5 text-center" *ngIf="loading">
  <div class="spinner-border text-success" style="width: 3rem; height: 3rem;" role="status">
    <span class="visually-hidden">Cargando...</span>
  </div>
  <p class="mt-3 text-muted">Cargando tu tienda...</p>
</div>