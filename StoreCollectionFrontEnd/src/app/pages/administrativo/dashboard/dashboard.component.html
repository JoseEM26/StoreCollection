<!-- src/app/admin/dashboard/dashboard.component.html -->
<div class="dashboard-page" [class.dark]="darkMode()">
  <!-- Header + Dark Mode Toggle -->
  <div class="header-container">
    <div class="container-fluid">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <div>
          <h1 class="title">Dashboard General</h1>
          <p class="subtitle">Resumen completo de Store Collection v2.0</p>
        </div>
        <button class="btn-theme-toggle" (click)="toggleDarkMode()" [attr.aria-label]="'Modo ' + (darkMode() ? 'claro' : 'oscuro')">
          <i class="bi" [class.bi-sun-fill]="darkMode()" [class.bi-moon-fill]="!darkMode()"></i>
        </button>
      </div>
    </div>
  </div>

  <div class="container-fluid">

    <!-- Stats Cards con efecto glassmorphism -->
    <div class="row g-4 mb-5">
      <div class="col-xl-3 col-md-6" *ngFor="let stat of stats(); let i = index" 
           data-aos="fade-up" [attr.data-aos-delay]="i * 100">
        <div class="stat-card glass">
          <div class="stat-icon" [style.background]="stat.gradient">
            <i [class]="stat.icon"></i>
          </div>
          <div class="stat-content">
            <div class="stat-value">{{ stat.prefix }}{{ stat.value | number:'1.0-0' }}</div>
            <div class="stat-label">{{ stat.label }}</div>
            <div class="stat-change" [class.positive]="stat.change > 0" [class.negative]="stat.change < 0">
              <i class="bi" [class.bi-arrow-up-right]="stat.change > 0" [class.bi-arrow-down-right]="stat.change < 0"></i>
              {{ stat.change > 0 ? '+' : '' }}{{ stat.change }}%
            </div>
          </div>
          <div class="stat-sparkline">
            <canvas [id]="'sparkline-' + i"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Grid -->
    <div class="row g-4">
      <!-- Gráfico de ingresos (Chart.js) -->
      <div class="col-lg-8">
        <div class="chart-card glass">
          <div class="card-header">
            <h5>Ingresos Mensuales 2025</h5>
            <div class="header-actions">
              <button class="btn-sm active">Mes</button>
              <button class="btn-sm">Año</button>
            </div>
          </div>
          <canvas #revenueChart height="320"></canvas>
        </div>
      </div>

      <!-- Últimas tiendas + Actividad reciente -->
      <div class="col-lg-4">
        <div class="activity-card glass mb-4">
          <div class="card-header">
            <h6>Tiendas Recientes</h6>
            <span class="badge-success">+12 esta semana</span>
          </div>
          <div class="store-list">
            <div class="store-item" *ngFor="let store of recentStores()">
              <div class="store-avatar" [style.background-image]="'url(https://api.dicebear.com/7.x/shapes/svg?seed=' + store.name + ')'">
              </div>
              <div class="store-info">
                <div class="store-name">{{ store.name }}</div>
                <div class="store-domain">{{ store.domain }}</div>
              </div>
              <span class="status-dot" [class.active]="store.active"></span>
            </div>
          </div>
        </div>

        <div class="activity-card glass">
          <div class="card-header">
            <h6>Actividad Reciente</h6>
          </div>
          <div class="activity-list">
            <div class="activity-item" *ngFor="let act of recentActivity()">
              <div class="activity-icon" [style.background]="act.color">
                <i [class]="act.icon"></i>
              </div>
              <div class="activity-text">
                <div>{{ act.text }}</div>
                <small>{{ act.time }}</small>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Tarjeta motivacional épica -->
    <div class="motivation-section mt-5">
      <div class="motivation-card glass">
        <div class="motivation-content">
          <h2>¡Los creadores de TikTok ya tienen su tienda propia!</h2>
          <p class="lead">Multitenant • Escalable • 100% Automatizado • Listo para millones</p>
          <div class="badges">
            <span class="badge-premium">Store Collection v2.0</span>
            <span class="badge-live">EN VIVO</span>
          </div>
        </div>
        <div class="motivation-decoration">
          <i class="bi bi-rocket-takeoff-fill"></i>
        </div>
      </div>
    </div>
  </div>
</div>