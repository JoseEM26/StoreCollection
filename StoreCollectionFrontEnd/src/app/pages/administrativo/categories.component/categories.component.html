<!-- src/app/admin/categories/categories.component.html -->
<div class="categories-page" data-aos="fade-up">
  <!-- Header -->
  <div class="page-header mb-5">
    <div class="container-fluid">
      <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center gap-4">
        <div>
          <h1 class="display-5 fw-bold text-dark mb-2">Gestión de Categorías</h1>
          <p class="text-muted lead">Administra las categorías disponibles en todas las tiendas</p>
        </div>
        <button 
          (click)="openModal()" 
          class="btn btn-primary btn-lg fw-bold shadow-lg d-flex align-items-center gap-3 px-5 py-3 rounded-pill"
          data-aos="fade-left" data-aos-delay="300">
          <i class="bi bi-plus-circle-fill fs-4"></i>
          Nueva Categoría
        </button>
      </div>
    </div>
  </div>

  <!-- Grid de categorías -->
  <div class="container-fluid">
    <div class="row g-4">
      <div 
        class="col-md-6 col-lg-4 col-xl-3" 
        *ngFor="let cat of categories(); let i = index" 
        data-aos="fade-up" 
        [attr.data-aos-delay]="100 + (i * 100)">
        
        <div class="category-card h-100 position-relative overflow-hidden rounded-4" 
             [class.inactive]="!cat.active">
          <div class="card-border"></div>
          
          <div class="card-content p-5">
            <div class="d-flex justify-content-between align-items-start mb-4">
              <div class="category-icon">
                <i class="bi bi-tags-fill"></i>
              </div>
              <span class="status-badge" [class.active]="cat.active">
                {{ cat.active ? 'Activa' : 'Inactiva' }}
              </span>
            </div>

            <h3 class="category-name fw-bold mb-4">{{ cat.name }}</h3>

            <div class="mt-auto">
              <button 
                (click)="toggle(cat)" 
                class="btn btn-sm fw-semibold w-100 rounded-pill"
                [class.btn-success]="!cat.active"
                [class.btn-outline-primary]="cat.active">
                <i class="bi me-2" [class.bi-toggle-on]="cat.active" [class.bi-toggle-off]="!cat.active"></i>
                {{ cat.active ? 'Desactivar' : 'Activar' }}
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Premium (igual que en Stores) -->
  <div class="modal-backdrop" *ngIf="showModal" (click)="closeModal()"></div>
  <div class="create-modal" *ngIf="showModal" data-aos="zoom-in">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">
          <i class="bi bi-tags-fill me-3"></i>
          Crear Nueva Categoría
        </h2>
        <button class="btn-close" (click)="closeModal()"></button>
      </div>

      <div class="modal-body">
        <div class="mb-5">
          <label class="form-label fw-medium">Nombre de la categoría</label>
          <input 
            [(ngModel)]="newCategory.name" 
            type="text" 
            class="form-control form-control-lg rounded-pill"
            placeholder="Ej: Ropa, Belleza, Tecnología...">
        </div>

        <div class="d-flex gap-3">
          <button (click)="closeModal()" class="btn btn-outline-secondary btn-lg flex-fill rounded-pill">
            Cancelar
          </button>
          <button (click)="saveCategory()" class="btn btn-primary btn-lg flex-fill rounded-pill fw-bold">
            Crear Categoría
          </button>
        </div>
      </div>
    </div>
  </div>
</div>