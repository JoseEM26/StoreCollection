<div class="text-center mb-5">
  <h2 class="h3 fw-bold text-dark">
    {{ isEdit() ? 'Editar Plan' : 'Crear Nuevo Plan' }}
  </h2>
  <p class="text-muted">Completa los datos del plan de suscripci칩n</p>
</div>

<form (ngSubmit)="onSubmit()" class="needs-validation" novalidate>
  <div class="mb-4">
    <label for="nombre" class="form-label fw-semibold">Nombre del plan <span class="text-danger">*</span></label>
    <input
      type="text"
      id="nombre"
      class="form-control form-control-lg"
      [(ngModel)]="form().nombre"
      name="nombre"
      placeholder="Ej: Plan B치sico, Premium, Empresarial"
      required
      #nombre="ngModel"
      [class.is-invalid]="nombre.invalid && nombre.touched"
    />
    <div class="invalid-feedback">
      El nombre es obligatorio
    </div>
  </div>

  <div class="row g-4">
    <div class="col-md-6">
      <label for="precio" class="form-label fw-semibold">Precio mensual (S/) <span class="text-danger">*</span></label>
      <div class="input-group input-group-lg">
        <span class="input-group-text">S/</span>
        <input
          type="number"
          id="precio"
          class="form-control"
          [(ngModel)]="form().precio"
          name="precio"
          min="0"
          step="0.01"
          required
          #precio="ngModel"
          [class.is-invalid]="precio.invalid && precio.touched"
        />
      </div>
      <div class="invalid-feedback">
        Ingresa un precio v치lido
      </div>
    </div>

    <div class="col-md-6">
      <label for="maxProductos" class="form-label fw-semibold">M치ximo de productos</label>
      <input
        type="number"
        id="maxProductos"
        class="form-control form-control-lg"
        [(ngModel)]="form().maxProductos"
        name="maxProductos"
        min="1"
        placeholder="100"
      />
    </div>
  </div>

  <div class="row g-4 mt-2">
    <div class="col-md-6">
      <label for="mesInicio" class="form-label fw-semibold">Mes de inicio de vigencia</label>
      <select id="mesInicio" class="form-select form-select-lg" [(ngModel)]="form().mesInicio" name="mesInicio">
        <option *ngFor="let mes of meses" [value]="mes.value">{{ mes.label }}</option>
      </select>
    </div>

    <div class="col-md-6">
      <label for="mesFin" class="form-label fw-semibold">Mes de fin de vigencia</label>
      <select id="mesFin" class="form-select form-select-lg" [(ngModel)]="form().mesFin" name="mesFin">
        <option *ngFor="let mes of meses" [value]="mes.value">{{ mes.label }}</option>
      </select>
    </div>
  </div>

  <div class="d-flex justify-content-end gap-3 mt-5 pt-4 border-top">
    <button type="button" class="btn btn-outline-secondary btn-lg px-5" (click)="onCancel()" [disabled]="loading()">
      Cancelar
    </button>
    <button type="submit" class="btn btn-primary btn-lg px-5 shadow-sm" [disabled]="loading()">
      <span *ngIf="loading()" class="spinner-border spinner-border-sm me-2" role="status"></span>
      {{ isEdit() ? 'Actualizar Plan' : 'Crear Plan' }}
    </button>
  </div>
</form>